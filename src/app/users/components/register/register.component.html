<!--
  Heads up! ðŸ‘‹

  Plugins:
    - @tailwindcss/forms
-->

<section class="bg-white">
  <div class="lg:grid lg:min-h-screen lg:grid-cols-12">
    <section
      class="relative flex h-32 items-end bg-gray-900 lg:col-span-5 lg:h-full xl:col-span-6"
    >
      <img
        alt="modern house"
        src="https://www.celebritycruises.com/blog/content/uploads/2023/03/most-modern-cities-in-the-world-vancouver-canada-street-1024x768.jpg"
        class="absolute inset-0 h-full w-full object-cover opacity-80"
      />
    </section>
    <main
      class="flex items-center justify-center px-8 py-8 sm:px-12 lg:col-span-7 lg:px-16 lg:py-12 xl:col-span-6"
    >
      <div class="max-w-xl lg:max-w-3xl">
        <div class="relative -mt-16 block">
          <a
            class="inline-flex h-24 w-24 items-center justify-center rounded-full bg-white text-teal-600 sm:h-20 sm:w-20 hover:cursor-pointer"
            (click)="navigateTo('/')"
          >
            <span class="sr-only">Home</span>
            <img
              class="h-20 w-20"
              src="../../../../assets/casasPNG.png"
              alt="logo"
            />
          </a>
          <h1
            class="mt-2 text-2xl font-bold text-gray-900 sm:text-3xl md:text-4xl"
          >
            Register an account
          </h1>
          <p class="mt-4 leading-relaxed text-gray-500">
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Eligendi
            nam dolorum aliquam, quibusdam aperiam voluptatum.
          </p>
        </div>
        <form
          [formGroup]="registerForm"
          (ngSubmit)="onSubmit()"
          class="mt-8 grid grid-cols-6 gap-6"
        >
          <div class="col-span-6 sm:col-span-3">
            <label
              for="first_name"
              class="block text-sm font-medium text-gray-700"
            >
              First Name
            </label>

            <input
              type="text"
              id="first_name"
              name="first_name"
              formControlName="first_name"
              class="mt-1 w-full rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm"
            />
            <!-- First name input validation -->
            <div
              *ngIf="
                first_name!.invalid &&
                (first_name!.dirty || first_name!.touched)
              "
              class="alert alert-danger"
            >
              <div
                *ngIf="first_name!.errors?.['required']"
                class="mt-1 w-full text-sm text-red-500"
              >
                First name is required.
              </div>
            </div>
          </div>
          <!-- End of first_name input validations-->
          <div class="col-span-6 sm:col-span-3">
            <label
              for="last_name"
              class="block text-sm font-medium text-gray-700"
            >
              Last Name
            </label>

            <input
              type="text"
              id="last_name"
              name="last_name"
              formControlName="last_name"
              class="mt-1 w-full rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm"
            />
            <!-- Last name input validation -->
            <div
              *ngIf="
                last_name!.invalid && (last_name!.dirty || last_name!.touched)
              "
              class="alert alert-danger"
            >
              <div
                *ngIf="last_name!.errors?.['required']"
                class="mt-1 w-full text-sm text-red-500"
              >
                Last name is required.
              </div>
            </div>
          </div>
          <!-- End of Last name input validations-->
          <div class="col-span-6">
            <label for="email" class="block text-sm font-medium text-gray-700">
              Email
            </label>

            <input
              type="email"
              id="email"
              name="email"
              formControlName="email"
              class="mt-1 w-full rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm"
            />

            <!-- Email input validation -->
            <div
              *ngIf="email!.invalid && (email!.dirty || email!.touched)"
              class="alert alert-danger w-full"
            >
              <div
                *ngIf="email!.errors?.['required']"
                class="mt-1 w-full text-sm text-red-500"
              >
                Email is required.
              </div>
              <div
                *ngIf="email!.errors?.['email']"
                class="mt-1 w-full text-sm text-red-500"
              >
                Invalid email format
              </div>
              <div
                *ngIf="emailAlreadyExist"
                class="mt-1 w-full text-sm text-red-500"
              >
                Email already exists
              </div>
            </div>
            <!-- End of Email input validations-->
          </div>
          <div class="col-span-6 sm:col-span-3">
            <label
              for="password"
              class="block text-sm font-medium text-gray-700"
            >
              Password
            </label>

            <input
              type="password"
              id="password"
              name="password"
              formControlName="password"
              class="mt-1 w-full rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm"
            />

            <!-- Password input validation -->
            <div
              *ngIf="
                password!.invalid && (password!.dirty || password!.touched)
              "
              class="alert alert-danger"
            >
              <div
                *ngIf="password!.errors?.['required']"
                class="mt-1 w-full text-sm text-red-500"
              >
                Password is required.
              </div>
            </div>
            <!-- End of password input validations-->
          </div>

          <div class="col-span-6 sm:col-span-3">
            <label
              for="password_confirmation"
              class="block text-sm font-medium text-gray-700"
            >
              Password Confirmation
            </label>

            <input
              type="password"
              id="password_confirmation"
              name="password_confirmation"
              formControlName="password_confirmation"
              class="mt-1 w-full rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm"
            />

            <!-- Password confirmation input validation -->
            <div
              *ngIf="
                password_confirmation!.invalid &&
                (password_confirmation!.dirty || password_confirmation!.touched)
              "
              class="alert alert-danger w-full"
            >
              <div
                *ngIf="password_confirmation!.errors?.['required']"
                class="mt-1 w-full text-sm text-red-500"
              >
                Password confirmation is required.
              </div>
            </div>

            <div
              *ngIf="confirmPasswordFail"
              class="mt-1 w-full text-sm text-red-500"
            >
              Password and password confirmation must be the same
            </div>
            <!-- End of password confirmation input validations-->
          </div>

          <div class="col-span-6">
            <label for="MarketingAccept" class="flex gap-4">
              <input
                type="checkbox"
                id="MarketingAccept"
                name="marketing_accept"
                class="h-5 w-5 rounded-md border-gray-200 bg-white shadow-sm"
              />

              <span class="text-sm text-gray-700">
                I want to receive emails about events, product updates and
                company announcements.
              </span>
            </label>
          </div>

          <div class="col-span-6">
            <p class="text-sm text-gray-500">
              By creating an account, you agree to our
              <a class="text-gray-700 underline"> terms and conditions </a>
              and
              <a class="text-gray-700 underline">privacy policy</a>.
            </p>
          </div>

          <div class="col-span-6 sm:flex sm:items-center sm:gap-4">
            <button
              type="submit"
              class="inline-block shrink-0 rounded-md border border-teal-600 bg-teal-600 px-12 py-3 text-sm font-medium text-white transition hover:bg-transparent hover:text-teal-600 focus:outline-none active:text-teal-500"
              [disabled]="!registerForm.valid"
            >
              Create an account
            </button>

            <p class="mt-4 text-sm text-gray-500 sm:mt-0">
              Already have an account?
              <a
                (click)="navigateTo('/login')"
                class="text-gray-700 underline hover:cursor-pointer"
                >Log in</a
              >.
            </p>
          </div>
        </form>
      </div>
    </main>
  </div>
</section>
